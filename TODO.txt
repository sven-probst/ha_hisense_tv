# screencapture

hisense/remoteapp/tv/platform_service/HomeAssistant/actions/screencapture (null)
hisense/remoteapp/mobile/HomeAssistant/platform_service/data/screencaptureinfo {
        "size": 0,
        "width":        0,
        "height":       0,
        "format":       "png"

----------------

hisense/remoteapp/mobile/HomeAssistant/platform_service/data/getplatformcapbility [{
                "name": "picture_setting",
                "version":      "U4"
        }, {
                "name": "volume",
                "version":      "00.00.01"
        }, {
                "name": "tv_name",
                "version":      "00.00.01"
        }, {
                "name": "booking_list",
                "version":      "00.00.01"
        }, {
                "name": "pvr",
                "version":      "00.00.01"
        }, {
                "name": "reminder",
                "version":      "00.00.01"
        }, {
                "name": "screen_capture",
                "version":      "00.00.01"
        }, {
                "name": "channel",
                "version":      "00.00.01"
        }, {
                "name": "fake_standby",
                "version":      "00.00.01"
        }]


----------------
String[] strArr = {x4.a.j("sourcechange"), x4.a.j("initsuccess"), x4.a.j("applistverchange"), x4.a.l(), x4.a.k("hotelmodechange"), x4.a.k("txtinputdata"), x4.a.h("volumechange"), x4.a.h("bwsinputdata"), x4.a.h("sourceinsert"), x4.a.h("vkbinvoke"), x4.a.h("tvsleep"), x4.a.i("voicetype"), x4.a.o("vidaa_app_connect"), x4.a.o("capability"), x4.a.o("sourcelist"), x4.a.o("appversion"), x4.a.o("applist"), x4.a.o("applisticon"), x4.a.o("authentication"), x4.a.o("authenticationcode"), x4.a.o("authenticationcodeclose"), x4.a.o("authenticationcodetoast"), x4.a.o("closeinput"), x4.a.o("vidaa_app_ble_connect"), x4.a.o("vidaa_app_fte_status"), x4.a.o("vidaa_app_fte_config_data"), x4.a.o("vidaa_app_fte_close"), x4.a.o("vidaa_app_fte_finish"), x4.a.n("gettvinfo"), x4.a.n("getplatformcapbility"), x4.a.n("getdeviceinfo"), x4.a.n("tokenissuance"), x4.a.o("login_each_other_info")};

----
hisense/remoteapp/mobile/broadcast/ui_service/state {
        "statetype":    "fake_sleep_0",
        "name": "",
        "totaltime":    0,
        "curtime":      0,
        "starttime":    0,
        "playstate":    "",
        "mediatype":    "",
        "resolving":    ""
}
hisense/remoteapp/tv/platform_service/HomeAssistant/actions/getdeviceinfo (null)
hisense/remoteapp/mobile/HomeAssistant/platform_service/data/getdeviceinfo {
        "eth0": "54df1b48606a",
        "wlan0":        "000000000000",
        "ip":   "192.168.0.252",
        "tv_name":      "Wohnzimmer-TV",
        "voice":        "2",
        "platform":     "1",
        "transport_protocol":   "2140",
        "region":       "4",
        "vidaa_support":        "1",
        "country":      "DEU",
        "language":     "eng",
        "model_name":   "VS1140FD1_0400",
        "tv_version":   "V0000.06.10O.N0717"
}
hisense/remoteapp/tv/platform_service/HomeAssistant/actions/gettvinfo (null)
hisense/remoteapp/mobile/HomeAssistant/platform_service/data/gettvinfo {
        "brand":        "tve",
        "featurecode":  "861003009000016000000730",
        "deviceid":     "861003009000016000000730jihcd3idthijpkf6i7j4hieulg47o4ev",
        "capability":   "2022092001",
        "tuner_num":    1,
        "fake_sleep":   1,
        "fake_sleep_state":     0,
        "audio_capture_supported":      0,
        "screen_capture_supported":     1,
        "audio_capture_version":        0
}

#######

this is received from TV after opening text input dialog in browser

hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"http://192.168.0.36:8000/1111"}


####

this is received while switching app (from browser to tv?)
hisense/remoteapp/mobile/broadcast/platform_service/data/picturesetting {
        "action":       "notify_value_changed",
        "menu_id":      81,
        "menu_value_type":      "int",
        "menu_value":   1
}
hisense/remoteapp/mobile/broadcast/platform_service/data/picturesetting {
        "action":       "notify_value_changed",
        "menu_id":      19,
        "menu_value_type":      "int",
        "menu_value":   0
}
####

other app change

hisense/remoteapp/mobile/broadcast/platform_service/data/picturesetting {
        "action":       "notify_value_changed",
        "menu_id":      81,
        "menu_value_type":      "int",
        "menu_value":   1
}
hisense/remoteapp/mobile/broadcast/platform_service/data/picturesetting {
        "action":       "notify_value_changed",
        "menu_id":      19,
        "menu_value_type":      "int",
        "menu_value":   0
}
#######

enter text in textfield

hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_a
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"a"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_b
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"ab"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_c
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"abc"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_d
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"abcd"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_e
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"abcde"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_f
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"abcdef"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_BACKSPACE
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":1,"inputdata":"abcde"}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 1
hisense/remoteapp/tv/remote_service/9a:7f:0e:18:c9:de$vidaa_common/actions/input Lit_ENTER
hisense/remoteapp/mobile/broadcast/platform_service/actions/bwsinputdata {"vkbstatus":0,"inputdata":""}
hisense/remoteapp/mobile/broadcast/platform_service/actions/vkbinvoke 0

###################

vidaa_app_connect: {"app_version":2,"connect_result":0,"device_type":"Mobile App"}

vidaa_app_ble_connect: {"app_version":1}

authenticationcode: {"authNum":"123456"}

##########

// Die verwendeten Topics (√ºber a.s(), a.q(), a.r(), a.p(), a.c()) sind:

// a.s("gettvstate")                -> /remoteapp/tv/ui_service/%s/actions/gettvstate
// a.s("capability")                -> /remoteapp/tv/ui_service/%s/actions/capability
// a.s("vidaa_app_ble_connect")     -> /remoteapp/tv/ui_service/%s/actions/vidaa_app_ble_connect
// a.s("vidaa_app_connect")         -> /remoteapp/tv/ui_service/%s/actions/vidaa_app_connect
// a.s("applisticon")               -> /remoteapp/tv/ui_service/%s/actions/applisticon
// a.s("vidaaapplist")              -> /remoteapp/tv/ui_service/%s/actions/vidaaapplist
// a.s("applist")                   -> /remoteapp/tv/ui_service/%s/actions/applist
// a.s("appversion")                -> /remoteapp/tv/ui_service/%s/actions/appversion
// a.q("getdeviceinfo")             -> /remoteapp/tv/platform_service/%s/actions/getdeviceinfo
// a.q("getplatformcapbility")      -> /remoteapp/tv/platform_service/%s/actions/getplatformcapbility
// a.s("sourcelist")                -> /remoteapp/tv/ui_service/%s/actions/sourcelist
// a.s("gettvstate")                -> /remoteapp/tv/ui_service/%s/actions/gettvstate
// a.q("gettvinfo")                 -> /remoteapp/tv/platform_service/%s/actions/gettvinfo
// a.q("getvolume")                 -> /remoteapp/tv/platform_service/%s/actions/getvolume
// a.s("launchapp")                 -> /remoteapp/tv/ui_service/%s/actions/launchapp
// a.s("editedapplist")             -> /remoteapp/tv/ui_service/%s/actions/editedapplist
// a.s("authenticationcode")        -> /remoteapp/tv/ui_service/%s/actions/authenticationcode
// a.s("authenticationcodeclose")   -> /remoteapp/tv/ui_service/%s/actions/authenticationcodeclose
// a.p("gettoken")                  -> /remoteapp/tv/platform_service/%s/actions/gettoken
// a.r("sendkey")                   -> /remoteapp/tv/remote_service/%s/actions/sendkey
// a.r("input")                     -> /remoteapp/tv/remote_service/%s/actions/input
// a.r("mouse")                     -> /remoteapp/tv/remote_service/%s/actions/mouse
// a.c("voicedata")                 -> /remoteapp/tv/voice_service/%s/actions/voicedata
// a.c("voicestart")                -> /remoteapp/tv/voice_service/%s/actions/voicestart
// a.c("voicestop")                 -> /remoteapp/tv/voice_service/%s/actions/voicestop
// a.s("dlnastop")                  -> /remoteapp/tv/ui_service/%s/actions/dlnastop
// a.s("vidaa_app_fte_config_data") -> /remoteapp/tv/ui_service/%s/actions/vidaa_app_fte_config_data
// a.s("vidaa_app_fte_status")      -> /remoteapp/tv/ui_service/%s/actions/vidaa_app_fte_status
// a.s("vidaa_app_fte_close")       -> /remoteapp/tv/ui_service/%s/actions/vidaa_app_fte_close
// a.s("login_each_other_info")     -> /remoteapp/tv/ui_service/%s/actions/login_each_other_info

Basierend auf der Analyse aller Klassen hier die vollst√§ndige Liste aller MQTT Topics:

## **Komplette Topic-Liste der Hisense Remote App**

### **üì§ VON APP AN TV GESENDETE TOPICS (Publish)**

#### **UI Service** (`/remoteapp/tv/ui_service/%s/actions/`)
```
gettvstate                    - TV Status abfragen
capability                    - UI F√§higkeiten abfragen
vidaa_app_ble_connect         - BLE Verbindung herstellen
vidaa_app_connect             - WiFi Verbindung herstellen
applisticon                   - App Icon abfragen
vidaaapplist                  - Vidaa App-Liste abfragen (Standard)
applist                       - App-Liste abfragen (Protocol 1140)
appversion                    - App Version abfragen
sourcelist                    - Quellen-Liste abfragen
launchapp                     - App starten
editedapplist                 - Bearbeitete App-Liste senden
authenticationcode            - Authentifizierungscode senden
authenticationcodeclose       - Authentifizierung beenden
dlnastop                      - DLNA stoppen
vidaa_app_fte_config_data     - FTE Konfigurationsdaten
vidaa_app_fte_status          - FTE Status senden
vidaa_app_fte_close           - FTE beenden
login_each_other_info         - Gegenseitige Login-Info
uievent                       - UI Ereignis
changesource                  - Quelle wechseln
```

#### **Platform Service** (`/remoteapp/tv/platform_service/%s/actions/`)
```
getdeviceinfo                 - Ger√§teinformationen abfragen
getplatformcapbility          - Plattform-F√§higkeiten abfragen
gettvinfo                     - TV Informationen abfragen
getvolume                     - Lautst√§rke abfragen
changevolume                  - Lautst√§rke √§ndern
gettoken                      - Token aktualisieren
```

#### **Remote Service** (`/remoteapp/tv/remote_service/%s/actions/`)
```
sendkey                       - Tastendruck senden
input                         - Texteingabe senden
mouse                         - Mausbefehl senden
```

#### **Voice Service** (`/remoteapp/tv/voice_service/%s/actions/`)
```
voicedata                     - Sprachdaten senden
voicestart                    - Spracherkennung starten
voicestop                     - Spracherkennung stoppen
```

### **üì• VOM TV AN APP GESENDETE TOPICS (Subscribe)**

#### **UI Service Broadcast** (`/remoteapp/tv/ui_service/broadcast/`)
```
actions/sourcechange          - Quelle wurde ge√§ndert
actions/applistverchange      - App-Liste Version ge√§ndert
actions/initsuccess           - Initialisierung erfolgreich
state/tvstate                 - TV Status update
data/hotelmodechange          - Hotel-Modus ge√§ndert
data/txtinputdata             - Texteingabe-Daten
```

#### **Platform Service Broadcast** (`/remoteapp/tv/platform_service/broadcast/`)
```
actions/volumechange          - Lautst√§rke wurde ge√§ndert
actions/vkbinvoke             - Virtuelle Tastatur aufgerufen
actions/tvsleep               - TV in Sleep-Modus
actions/bwsinputdata          - Browser Eingabedaten
actions/sourceinsert          - Quelle eingef√ºgt
data/voicetype                - Sprachtyp information
```

#### **UI Client Responses** (`/remoteapp/tv/ui_service/[client_id]/`)
```
data/applisticon              - App Icon Daten (Antwort)
data/applist                  - App-Liste (Antwort)
data/capability               - UI F√§higkeiten (Antwort)
data/authenticationcode       - Authentifizierungs-Result
data/vidaa_app_connect        - Verbindungs-Result
data/vidaa_app_ble_connect    - BLE Verbindungs-Result
data/authentication           - Authentifizierungs-Request
data/login_each_other_info    - Login Info Response
data/vidaa_app_fte_config_data- FTE Config Response
data/appversion               - App Version Response
data/authenticationcodetoast  - Auth Code Toast
data/authenticationcodeclose  - Auth Close Response
data/sourcelist               - Quellen-Liste Response
data/vidaa_app_fte_status     - FTE Status Response
data/vidaa_app_fte_finish     - FTE Beendet
data/closeinput               - Eingabe beenden
```

#### **Platform Client Responses** (`/remoteapp/tv/platform_service/[client_id]/`)
```
data/getdeviceinfo            - Ger√§teinfo Response
data/getplatformcapbility     - Plattform-F√§higkeiten Response
data/gettvinfo                - TV Info Response
data/tokenissuance            - Token Ausstellung
```

### **üîë WICHTIGE PAYLOADS:**

#### **Verbindung:**
- `vidaa_app_connect`: `{"app_version":2,"connect_result":0,"device_type":"Mobile App"}`
- `vidaa_app_ble_connect`: `{"app_version":1}`
- `authenticationcode`: `{"authNum":"123456"}`

#### **Steuerung:**
- `sendkey`: `"KEY_HOME"`, `"KEY_POWER"`, `"KEY_VOLUMEUP"`, etc.
- `changevolume`: `"50"` (Lautst√§rkewert 0-100)

### **üîÑ PROTOKOLL-UNTERSCHIEDE:**

#### **Protocol 1140:**
- Verwendet `applist` statt `vidaaapplist`
- Automatische Status/Capability-Abfrage
- Kein BLE Support

#### **Standard Vidaa:**
- Verwendet `vidaaapplist` 
- BLE Unterst√ºtzung via `vidaa_app_ble_connect`
- FTE (First Time Experience) Features

Diese Topics erm√∂glichen die komplette Fernsteuerung des Hisense TVs inklusive App-Verwaltung, Sprachsteuerung, Authentifizierung und Systemstatus-Abfragen.
